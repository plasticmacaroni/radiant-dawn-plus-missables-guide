<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/html">

<head>
    <meta charset="utf-8">
    <title>Spoiler-Free Game Checklist Tool</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description"
        content="Community-powered checklist system for tracking game missables, items, and characters without spoilers. Supports multiple games with click-to-reveal protection.">
    <link id="bootstrap" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" rel="stylesheet"
        crossorigin="anonymous">
    <!-- icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
    <link href="css/bootstrap-responsive.min.css" rel="stylesheet">
    <link href="css/main.css" rel="stylesheet">
    <!--[if lt IE 9]>
        <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.2/jquery.min.js"></script>
    <script src="https://cdn.rawgit.com/andris9/jStorage/v0.4.12/jstorage.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
    <script src="js/lz-string.min.js"></script>
    <script src="js/main.js"></script>
</head>

<body data-bs-theme="dark">
    <nav class="navbar navbar-default">
        <div class="container">
            <ul class="nav navbar-nav">
                <li class="active"><a href="#tabPlaythrough" data-toggle="tab">Checklist</a></li>
                <li><a href="#tabCreate" data-toggle="tab">Edit List</a></li>
                <li><a href="#tabHelp" data-toggle="tab">Help</a></li>
            </ul>
            <div class="profile" style="float: right; padding-top: 8px;">
                <div class="input-append">
                    <select id="profiles">
                    </select>
                    <button class="btn btn-secondary" type="button" id="profileAdd">Add</button>
                    <button class="btn btn-secondary" type="button" id="profileEdit">Edit</button>
                    <button class="btn btn-secondary" type="button" id="profileShareTemplate">Share Template</button>
                </div>
            </div>
        </div>
    </nav>

    <h1 class="text-center">Spoiler-Free Game Checklist Tool</h1>
    <div class="container">
        <div class="btn btn-primary" type="button" data-toggle="collapse" data-target="#intro" aria-expanded="false"
            aria-controls="intro">About This Tool</div>
        <div id="intro" class="collapse">
            <p>
                A community-powered checklist system for tracking game missables, items, characters, and other content
                without spoilers. Supports multiple games with community-contributed checklists.
            </p>
            <p>
                Features:
            <ul>
                <li><i class="bi bi-shield-check"></i>Community checklists for various games</li>
                <li><i class="bi bi-eye-slash"></i>Click-to-reveal spoiler protection for sensitive content</li>
                <li><i class="bi bi-map"></i>Locations for hidden items and missables</li>
                <li><i class="bi bi-people"></i>Character recruitment and story progression tracking</li>
                <li><i class="bi bi-trophy"></i>Progress tracking with completion statistics</li>
                <li><i class="bi bi-plus-circle"></i>Community contribution - suggest updates via GitHub</li>
            </ul>
            </p>
            <p>
                Item types:
            <ul>
                <li><i class="bi bi-clipboard-check"></i> Task - Use ::task:: prefix</li>
                <li><i class="bi bi-stopwatch text-danger"></i> Urgent Task - Use ::missable:: prefix</li>
                <li><i class="bi bi-gem text-success"></i> Special Item - Use ::item_uncommon:: prefix</li>
                <li><i class="bi bi-book text-danger"></i> Important Note - Use ::item_story:: prefix</li>
            </ul>
            </p>
        </div>

        <div class="tab-content">
            <div class="btn-group" role="group">
                <button class="btn btn-secondary" id="toggleCollapseAll">
                    <span class="glyphicon glyphicon-chevron-down"></span>
                    <span class="glyphicon glyphicon-chevron-up" style="display:none;"></span>
                    Collapse All
                </button>
            </div>

            <div class="tab-pane active" id="tabPlaythrough">
                <h2>Game Checklist <span id="playthrough_overall_total"></span></h2>
                <div class="table_of_contents">

                </div>
                <hr />

                <h3 id="Getting_Started"><a href="#" data-toggle="collapse" data-parent="#tabPlaythrough"
                        class="btn btn-primary btn-collapse btn-sm"></a><a href="#">Getting Started</a></h3>
                <ul class="panel-collapse collapse in">
                    <li data-id="playthrough_welcome_to_tool"><i class="bi bi-clipboard-check"></i>This is a custom
                        checklist tool. Use the checklist tab to view game content with spoiler protection.</li>
                </ul>
            </div>

            <div class="tab-pane" id="tabCreate">
                <h2>Edit Custom Checklists</h2>
                <div class="alert alert-info">
                    <p><strong>Note:</strong> Load a checklist from the "Add" menu to get started quickly.</p>
                    <p>When creating custom checklists, use the following format:</p>
                    <p><code># Category Name</code> - Creates a new category</p>
                    <p><code>- Item text</code> - Creates a new item (defaults to task if no prefix)</p>
                    <p>Use item prefixes like <code>::task::</code>, <code>::missable::</code>,
                        <code>::item_uncommon::</code>, or <code>::item_story::</code> before the item text to set its
                        type
                    </p>
                    <p>Use indentation (two spaces) to create sub-items</p>
                    <p>You can add links using markdown format: <code>[Link text](https://example.com)</code></p>
                    <p>You can hide spoilers using double pipes: <code>||spoiler text||</code></p>
                    <p>Example:</p>
                    <pre># Prologue - Chapter Name
- ::task:: Complete main objectives
  - ::missable:: Recruit character before turn limit
- ::item_uncommon:: ||Special Weapon|| (from enemy)
- ::item_story:: ||Character Name|| (Level 10 ||Class Name||)
- ::task:: Find the hidden ||secret item|| in the dungeon

- ::task:: Visit [strategy guide](https://example.com) for more tips</pre>
                </div>
                <textarea id="checklist-content" style="width: 100%; height: 400px; font-family: monospace;"></textarea>
                <div class="form-group" style="margin-top: 15px;">
                    <button id="save-checklist" class="btn btn-primary">Save Checklist</button>
                    <button id="import-checklist" class="btn btn-secondary">Import from File</button>
                    <button id="export-checklist" class="btn btn-secondary">Export to File</button>
                    <input type="file" id="file-input" style="display: none">
                </div>
            </div>

            <div id="bottom-spacer" style="height:15vh;"></div>

            <div class="tab-pane" id="tabHelp">
                <h2>Help</h2>

                <h3>How do I use this checklist?</h3>
                <p>
                    Checklist items can be hidden with spoiler protection (marked as ???).
                    Click on any ??? box to reveal the hidden content.
                </p>

                <h3>How do I navigate the checklist?</h3>
                <p>
                    The checklist is organized by game chapters within each act. Use the table of contents to jump to
                    specific chapters. Items are categorized as:
                <ul>
                    <li><strong>Tasks</strong> (::task::) - General objectives and actions</li>
                    <li><strong>Missables</strong> (::missable::) - Time-sensitive or one-time opportunities</li>
                    <li><strong>Items</strong> (::item_uncommon::) - Equipment, weapons, and collectibles</li>
                    <li><strong>Characters</strong> (::item_story::) - Character recruitment and story elements</li>
                </ul>
                </p>

                <h3>What do the different icons mean?</h3>
                <p>
                    The checklist uses specific icons to categorize different types of content:
                <ul>
                    <li><i class="bi bi-clipboard-check"></i> <strong>Tasks</strong> (::task::) - Objectives and actions
                        to complete</li>
                    <li><i class="bi bi-stopwatch text-danger"></i> <strong>Missables</strong> (::missable::) -
                        Time-sensitive items and opportunities</li>
                    <li><i class="bi bi-gem text-success"></i> <strong>Uncommon Items</strong> (::item_uncommon::) -
                        Equipment, weapons, and collectibles</li>
                    <li><i class="bi bi-book text-danger"></i> <strong>Story Elements</strong> (::item_story::) -
                        Characters and important plot points</li>
                </ul>
                </p>

                <h3>Can I create custom checklists?</h3>
                <p>
                    You can create custom checklists using the "Edit List" tab and the profile selector.
                    This allows you to track multiple playthroughs or create checklists for other content.
                    Alternatively, you can create a custom checklist from scratch using the "Edit List" tab.
                </p>

                <h3>How does progress get saved?</h3>
                <p>
                    Your progress is automatically saved in your browser's local storage. This means your checked items
                    and revealed spoilers are preserved between sessions. You can also use the Export/Import feature
                    to backup your progress or share it with others.
                </p>

                <h3>How do I add links to my checklist?</h3>
                <p>
                    You can add links to your checklist items using Markdown format:
                    <code>[Link text](https://example.com)</code>
                    <br>
                    For example: <code>- ::task:: Check the [project documentation](https://example.com/docs)</code>
                    <br>
                    Links will open in a new tab when clicked.
                </p>

                <h3>How do I hide spoilers in my checklist?</h3>
                <p>
                    You can hide spoilers using double pipe delimiters:
                    <code>||spoiler text||</code>
                    <br>
                    For example: <code>- ::task:: Defeat the boss and get the ||legendary sword||</code>
                    <br>
                    Spoilers will appear as compact inline boxes marked with "???". When clicked, they reveal the
                    hidden text with a blue glow effect.
                </p>
            </div>
        </div>
    </div>

    <!-- Fixed bottom filter buttons -->
    <div class="btn-group-flex">
        <label class="btn btn-secondary">
            <input type="checkbox" id="toggleHideCompleted">
            <span class="glyphicon glyphicon-eye-close"></span>
            <span class="glyphicon glyphicon-eye-open"></span>
            Hide Completed
        </label>
        <label class="btn btn-secondary">
            <input type="checkbox" id="toggleRevealSpoilers">
            <span class="glyphicon glyphicon-eye-close"></span>
            <span class="glyphicon glyphicon-eye-open"></span>
            Reveal All Spoilers
        </label>

        <button class="btn btn-primary" id="share-checklist-btn" data-toggle="modal" data-target="#shareModal">
            <span class="glyphicon glyphicon-share-alt"></span> Share Checklist
        </button>
        <a href="https://github.com/plasticmacaroni/spoiler-free-game-missables-guide/issues/new" target="_blank"
            class="btn btn-info" type="button" id="suggestUpdate" title="Suggest an update or report an issue">
            <span class="glyphicon glyphicon-plus"></span> Suggest Update
        </a>
    </div>

    <div id="profileModal" class="modal fade">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                            aria-hidden="true">&times;</span></button>
                    <h3 id="profileModalTitle" class="modal-title">Profile</h3>
                </div>
                <div class="modal-body">
                    <form class="form-horizontal">
                        <div class="control-group">
                            <label class="control-label" for="profileModalName">Name</label>
                            <div class="controls">
                                <input type="text" id="profileModalName" class="form-control"
                                    placeholder="Enter profile name">
                            </div>
                        </div>
                        <div class="control-group">
                            <label class="control-label" for="profileModalTemplate">Template</label>
                            <div class="controls">
                                <select id="profileModalTemplate" class="form-control">
                                    <!-- Templates will be loaded dynamically -->
                                </select>
                            </div>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <a href="#" id="profileModalAdd" class="btn btn-primary" data-dismiss="modal">Add</a>
                    <a href="#" id="profileModalUpdate" class="btn btn-primary">Update</a>
                    <a href="#" id="profileModalDelete" class="btn btn-danger">Delete</a>
                </div>
            </div>
        </div>
    </div>

    <!-- Share/Import Modal -->
    <div class="modal fade" id="shareModal" tabindex="-1" role="dialog" aria-labelledby="shareModalLabel">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                            aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title" id="shareModalLabel">Share / Import Checklist</h4>
                </div>
                <div class="modal-body">
                    <!-- Sharing Section -->
                    <h5>Share Current Checklist</h5>
                    <p>Share your current checklist configuration with others.</p>
                    <div class="form-group">
                        <button class="btn btn-success" id="share-copy-url-btn" data-toggle="tooltip"
                            data-placement="top" title="Copy a direct link to this checklist">
                            <span class="glyphicon glyphicon-link"></span> Copy Sharable Link
                        </button>
                        <span id="share-url-disabled-reason" class="text-muted"
                            style="display: none; margin-left: 10px;">(Link too long for URL sharing)</span>
                    </div>
                    <div class="form-group">
                        <button class="btn btn-default" id="share-copy-code-btn" data-toggle="tooltip"
                            data-placement="top" title="Copy a text code for sharing">
                            <span class="glyphicon glyphicon-copy"></span> Copy Sharable Code
                        </button>
                        <span id="copy-feedback" class="text-success"
                            style="display: none; margin-left: 10px;">Copied!</span>
                    </div>
                    <hr>
                    <!-- Importing Section -->
                    <h5>Import Checklist from Code</h5>
                    <p>Paste a shared code below to import a checklist.</p>
                    <div class="form-group">
                        <textarea class="form-control" id="import-code-area" rows="4"
                            placeholder="Paste shared code here..."></textarea>
                    </div>
                    <button class="btn btn-primary" id="import-load-code-btn">
                        <span class="glyphicon glyphicon-import"></span> Load from Code
                    </button>
                    <span id="import-feedback" style="display: none; margin-left: 10px;"></span>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>

    <a class="btn btn-secondary btn-sm fadingbutton back-to-top">Back to Top&thinsp;<span
            class="glyphicon glyphicon-arrow-up"></span></a>

</body>

</html>